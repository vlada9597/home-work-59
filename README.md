# üß© home-work-59

## –¢–µ–º–∞: –ö–æ–º–ø—Ä–µ—Å—ñ—è —Ç–∞ –¥–µ–∫–æ–º–ø—Ä–µ—Å—ñ—è —Ñ–∞–π–ª—ñ–≤ —É Node.js –∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º Gzip

---

### üéØ –ú–µ—Ç–∞ —Ä–æ–±–æ—Ç–∏
–†–æ–∑—Ä–æ–±–∏—Ç–∏ –¥–≤—ñ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó `compressFile` —Ç–∞ `decompressFile`, —è–∫—ñ –≤–∏–∫–æ–Ω—É—é—Ç—å —Å—Ç–∏—Å–Ω–µ–Ω–Ω—è —Ç–∞ —Ä–æ–∑–ø–∞–∫—É–≤–∞–Ω–Ω—è —Ñ–∞–π–ª—ñ–≤ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –∞–ª–≥–æ—Ä–∏—Ç–º—É **Gzip**, –∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º —Å—É—á–∞—Å–Ω–æ–≥–æ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å—É **ESM** —Ç–∞ –ø–æ—Ç–æ–∫–æ–≤–æ–≥–æ API Node.js.

---

### ‚öôÔ∏è –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω—ñ —Ç–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó
- **Node.js (v18+)**
- **–ú–æ–¥—É–ª—ñ:**
  - `zlib` ‚Äî –¥–ª—è –∞–ª–≥–æ—Ä–∏—Ç–º—É Gzip
  - `fs`, `fs/promises` ‚Äî –¥–ª—è —Ä–æ–±–æ—Ç–∏ –∑ —Ñ–∞–π–ª–∞–º–∏
  - `path` ‚Äî –¥–ª—è –æ–±—Ä–æ–±–∫–∏ —à–ª—è—Ö—ñ–≤
  - `stream/promises` ‚Äî –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ pipeline
- –°–∏–Ω—Ç–∞–∫—Å–∏—Å: **ES6+** (`async/await`, `import/export`)

---

### üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ—î–∫—Ç—É

home-work-58/
‚îú‚îÄ‚îÄ files/
‚îÇ ‚îî‚îÄ‚îÄ source.txt
‚îú‚îÄ‚îÄ main.js
‚îî‚îÄ‚îÄ package.json



#### –ó–º—ñ—Å—Ç —Ñ–∞–π–ª—ñ–≤:
- **main.js** ‚Äî –æ—Å–Ω–æ–≤–Ω–∏–π —Å–∫—Ä–∏–ø—Ç –∑ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—î—é —Ñ—É–Ω–∫—Ü—ñ–π.
- **files/source.txt** ‚Äî —Ç–µ—Å—Ç–æ–≤–∏–π —Ñ–∞–π–ª –¥–ª—è —Å—Ç–∏—Å–Ω–µ–Ω–Ω—è.
- **package.json** ‚Äî –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ–π–Ω–∏–π —Ñ–∞–π–ª –∑ `type: "module"` –¥–ª—è –ø—ñ–¥—Ç—Ä–∏–º–∫–∏ ESM.

---


üß† –õ–æ–≥—ñ–∫–∞ —Ä–æ–±–æ—Ç–∏ —Ñ—É–Ω–∫—Ü—ñ–π

1. compressFile(filePath)
–ü—Ä–∏–π–º–∞—î —à–ª—è—Ö –¥–æ —Ñ–∞–π–ª—É, —è–∫–∏–π –ø–æ—Ç—Ä—ñ–±–Ω–æ —Å—Ç–∏—Å–Ω—É—Ç–∏.

–ü–µ—Ä–µ–≤—ñ—Ä—è—î, —á–∏ —ñ—Å–Ω—É—î —Ñ–∞–π–ª.

–ì–µ–Ω–µ—Ä—É—î —É–Ω—ñ–∫–∞–ª—å–Ω–µ —ñ–º‚Äô—è (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, source.gz, source_1.gz, ‚Ä¶).

–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î createGzip() –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø–æ—Ç–æ–∫—É —Å—Ç–∏—Å–Ω–µ–Ω–Ω—è.

–ó–∞–ø–∏—Å—É—î —Ä–µ–∑—É–ª—å—Ç–∞—Ç —É –Ω–æ–≤–∏–π .gz —Ñ–∞–π–ª.

–ü–æ–≤–µ—Ä—Ç–∞—î —à–ª—è—Ö –¥–æ —Å—Ç–≤–æ—Ä–µ–Ω–æ–≥–æ —Ñ–∞–π–ª—É.

2. decompressFile(compressedFilePath, destinationFilePath)
–ü—Ä–∏–π–º–∞—î —à–ª—è—Ö –¥–æ .gz —Ñ–∞–π–ª—É —Ç–∞ –±–∞–∂–∞–Ω–∏–π —à–ª—è—Ö –¥–ª—è —Ä–æ–∑–ø–∞–∫–æ–≤–∞–Ω–æ–≥–æ —Ñ–∞–π–ª—É.

–ü–µ—Ä–µ–≤—ñ—Ä—è—î, —á–∏ —ñ—Å–Ω—É—î —Ñ–∞–π–ª –∑ —Ç–∞–∫–∏–º —ñ–º–µ–Ω–µ–º.

–Ø–∫—â–æ —ñ—Å–Ω—É—î ‚Äî –¥–æ–¥–∞—î —Å—É—Ñ—ñ–∫—Å _1, _2, ‚Ä¶.

–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î createGunzip() –¥–ª—è –¥–µ–∫–æ–º–ø—Ä–µ—Å—ñ—ó.

–ó–±–µ—Ä—ñ–≥–∞—î —Ä–æ–∑–ø–∞–∫–æ–≤–∞–Ω–∏–π —Ñ–∞–π–ª —Ç–∞ –ø–æ–≤–µ—Ä—Ç–∞—î –π–æ–≥–æ —à–ª—è—Ö.

üìò –ü—Ä–∏–∫–ª–∞–¥ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

import { compressFile, decompressFile } from './main.js';

async function performCompressionAndDecompression() {
  try {
    const compressedResult = await compressFile('./files/source.txt');
    console.log('‚úÖ –°—Ç–∏—Å–Ω—É—Ç–æ:', compressedResult);

    const decompressedResult = await decompressFile(compressedResult, './files/source_decompressed.txt');
    console.log('‚úÖ –†–æ–∑–ø–∞–∫–æ–≤–∞–Ω–æ:', decompressedResult);
  } catch (error) {
    console.error('‚ùå Error during compression or decompression:', error);
  }
}

performCompressionAndDecompression();

‚ñ∂Ô∏è –Ø–∫ –∑–∞–ø—É—Å—Ç–∏—Ç–∏
–£ —Ç–µ—Ä–º—ñ–Ω–∞–ª—ñ –≤—ñ–¥–∫—Ä–∏—Ç–∏ –ø–∞–ø–∫—É –ø—Ä–æ—î–∫—Ç—É:

cd "C:\Users\admin\Desktop\Fullstack JS\JS\home-work-58"
–°—Ç–≤–æ—Ä–∏—Ç–∏ –ø—ñ–¥–ø–∞–ø–∫—É files —Ç–∞ —Ñ–∞–π–ª source.txt —É –Ω—ñ–π:

files/source.txt
(–ù–∞–ø—Ä–∏–∫–ª–∞–¥, –≤–º—ñ—Å—Ç: Hello from the compression test!)

–î–æ–¥–∞—Ç–∏ —É package.json:

{ "type": "module" }

–ó–∞–ø—É—Å—Ç–∏—Ç–∏:

node main.js

‚úÖ –û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç
–£ –∫–æ–Ω—Å–æ–ª—ñ:
#58. JavaScript homework example file
‚úÖ –°—Ç–∏—Å–Ω—É—Ç–æ: ./files/source.gz
‚úÖ –†–æ–∑–ø–∞–∫–æ–≤–∞–Ω–æ: ./files/source_decompressed.txt
–£ –ø–∞–ø—Ü—ñ files/ –∑‚Äô—è–≤–ª—è—Ç—å—Å—è —Ñ–∞–π–ª–∏:
source.txt
source.gz
source_decompressed.txt
–Ø–∫—â–æ –∑–∞–ø—É—Å—Ç–∏—Ç–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ ‚Äî –∑‚Äô—è–≤–ª—è—Ç—å—Å—è:
source_1.gz
source_decompressed_1.txt


üßæ –û–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–æ–∫

–§—É–Ω–∫—Ü—ñ—ó –ø–µ—Ä–µ–¥–±–∞—á–∞—é—Ç—å:

–ü–µ—Ä–µ–≤—ñ—Ä–∫—É —ñ—Å–Ω—É–≤–∞–Ω–Ω—è —Ñ–∞–π–ª—ñ–≤ –ø–µ—Ä–µ–¥ –æ–±—Ä–æ–±–∫–æ—é.

–í–∏–≤–µ–¥–µ–Ω–Ω—è —á—ñ—Ç–∫–æ–≥–æ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–∏ –ø–æ–º–∏–ª–∫–∞—Ö —á–∏—Ç–∞–Ω–Ω—è/–∑–∞–ø–∏—Å—É.

–ì–µ–Ω–µ—Ä–∞—Ü—ñ—é –≤–∏–Ω—è—Ç–∫—É (throw new Error(...)) –∑ –ø–æ—è—Å–Ω–µ–Ω–Ω—è–º.

–ü—Ä–∏–∫–ª–∞–¥ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è:

–ü–æ–º–∏–ª–∫–∞ –ø—Ä–∏ –∫–æ–º–ø—Ä–µ—Å—ñ—ó —Ñ–∞–π–ª—É: ENOENT: no such file or directory


üß™ –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—ñ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è
‚Ññ/   –ö—Ä–∏—Ç–µ—Ä—ñ–π	                   /   –û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç
1/   –§–∞–π–ª source.txt —Å—Ç–∏—Å–∫–∞—î—Ç—å—Å—è /  ‚úÖ –°—Ç–≤–æ—Ä—é—î—Ç—å—Å—è source.gz
2/	 –§–∞–π–ª —Ä–æ–∑–ø–∞–∫–æ–≤—É—î—Ç—å—Å—è	       /   ‚úÖ –°—Ç–≤–æ—Ä—é—î—Ç—å—Å—è source_decompressed.txt –∑ —Ç–∏–º —Å–∞–º–∏–º –≤–º—ñ—Å—Ç–æ–º
3/	 –£–Ω—ñ–∫–∞–ª—å–Ω—ñ—Å—Ç—å	               /   ‚úÖ –ü—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º—É –∑–∞–ø—É—Å–∫—É –¥–æ–¥–∞—î—Ç—å—Å—è —Å—É—Ñ—ñ–∫—Å _1, _2
4/	 –û–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–æ–∫	           /    ‚úÖ –ö–æ—Ä–µ–∫—Ç–Ω—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è —É –∫–æ–Ω—Å–æ–ª—ñ
5/	 –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è ES6+	         /    ‚úÖ async/await, import/export
6/	 –ì–æ—Ç–æ–≤–Ω—ñ—Å—Ç—å –¥–æ Jest          /  	 ‚úÖ –§—É–Ω–∫—Ü—ñ—ó –µ–∫—Å–ø–æ—Ä—Ç—É—é—Ç—å—Å—è —ñ –Ω–µ –∑–∞–ª–µ–∂–∞—Ç—å –≤—ñ–¥ –∑–æ–≤–Ω—ñ—à–Ω—ñ—Ö –∑–º—ñ–Ω–Ω–∏—Ö

üìÑ –í–∏—Å–Ω–æ–≤–∫–∏
–£ —Ö–æ–¥—ñ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è —Ä–æ–±–æ—Ç–∏ –±—É–ª–æ:

–†–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ –¥–≤—ñ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó –¥–ª—è –∫–æ–º–ø—Ä–µ—Å—ñ—ó —Ç–∞ –¥–µ–∫–æ–º–ø—Ä–µ—Å—ñ—ó —Ñ–∞–π–ª—ñ–≤.

–ó–∞–±–µ–∑–ø–µ—á–µ–Ω–æ —É–Ω—ñ–∫–∞–ª—å–Ω—ñ—Å—Ç—å —ñ–º–µ–Ω —Ñ–∞–π–ª—ñ–≤.

–†–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ –ø–æ–≤–Ω–æ—Ü—ñ–Ω–Ω—É –æ–±—Ä–æ–±–∫—É –ø–æ–º–∏–ª–æ–∫.

–ö–æ–¥ –ø–æ–±—É–¥–æ–≤–∞–Ω–∏–π –∑ —É—Ä–∞—Ö—É–≤–∞–Ω–Ω—è–º –≤–∏–º–æ–≥ –¥–æ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è (Jest) —ñ —Å—É—á–∞—Å–Ω–∏—Ö —Å—Ç–∞–Ω–¥–∞—Ä—Ç—ñ–≤ Node.js.

–§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª –ø–µ—Ä–µ–≤—ñ—Ä–µ–Ω–æ ‚Äî —Ä–æ–±–æ—Ç–∞ –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è –∫–æ—Ä–µ–∫—Ç–Ω–æ ‚úÖ
